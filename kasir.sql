-- phpMyAdmin SQL Dump
-- version 5.0.1
-- https://www.phpmyadmin.net/
--
-- Host: localhost
-- Generation Time: Nov 27, 2020 at 12:02 PM
-- Server version: 10.4.11-MariaDB
-- PHP Version: 7.4.1

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET AUTOCOMMIT = 0;
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `kasir`
--

-- --------------------------------------------------------

--
-- Table structure for table `admin`
--

CREATE TABLE `admin` (
  `id_admin` int(3) NOT NULL,
  `username` varchar(100) DEFAULT NULL,
  `password` varchar(100) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `admin`
--

INSERT INTO `admin` (`id_admin`, `username`, `password`) VALUES
(2, 'rudy', '123');

-- --------------------------------------------------------

--
-- Table structure for table `barang`
--

CREATE TABLE `barang` (
  `id_barang` varchar(30) NOT NULL,
  `nama_barang` varchar(50) NOT NULL,
  `jumlah` int(10) NOT NULL,
  `harga_barang` int(25) NOT NULL,
  `gambar_barang` varchar(255) NOT NULL,
  `keterangan_barang` tinytext NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `barang`
--

INSERT INTO `barang` (`id_barang`, `nama_barang`, `jumlah`, `harga_barang`, `gambar_barang`, `keterangan_barang`) VALUES
('8886008101053', 'Aqua Tanggung', 12, 3000, 'bd9f2-cherries.jpg', 'Air Mineral'),
('8996001600269', 'Le Minerale', 12, 3000, 'adb79-yellowflower.jpg', 'Air Mineral'),
('B0001', 'Kecap Bango', 28, 1000, 'f0b86-warty-final-ubuntu.png', 'keterangan barang'),
('B0002', 'Kapal Api', 16, 1000, '', ''),
('B0003', 'INDOMILK', 33, 4000, '60b65-throwingstones.jpg', 'barang lama'),
('B0004', 'Enzim', 40, 2000, '17147-twilight_frost_by_phil_jackson.jpg', 'barang baru'),
('B0005', 'Pepsoden', 10, 4000, '21ea6-yellowflower.jpg', 'barang kadalurasa'),
('B0006', 'Sepatu', 0, 45000, '03c6d-whiteorchid.jpg', 'barang');

-- --------------------------------------------------------

--
-- Table structure for table `ci_sessions`
--

CREATE TABLE `ci_sessions` (
  `id` varchar(128) NOT NULL,
  `ip_address` varchar(45) NOT NULL,
  `timestamp` int(10) UNSIGNED NOT NULL DEFAULT 0,
  `data` blob NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

--
-- Dumping data for table `ci_sessions`
--

INSERT INTO `ci_sessions` (`id`, `ip_address`, `timestamp`, `data`) VALUES
('1b603f9faf76ccbbb16d4a0258fc0dff', '::1', 1606473584, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437333538343b),
('915130b5cc4538e0ba57dcb778aa3deb', '::1', 1606473585, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437333538353b),
('50f90cf61a51e230965560b3b2090623', '::1', 1606473590, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437333539303b757365726e616d657c733a343a2272756479223b6c6f676765645f696e7c623a313b),
('0c75c0b1f82dad0bfecd1c3728976fab', '::1', 1606473590, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437333539303b),
('4d22fe4b9e2cc9bfa8380aada70856cf', '::1', 1606473600, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437333630303b),
('580d0f14726408af6df188d6e95c8890', '::1', 1606473607, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437333630373b),
('0512ec7b68651129f0a3883e285dfbce', '::1', 1606473614, 0x636172745f636f6e74656e74737c613a333a7b733a31303a22636172745f746f74616c223b643a31323030303b733a31313a22746f74616c5f6974656d73223b643a31323b733a33323a226337663166363030383163623432333237643330383138643634313839343531223b613a363a7b733a323a226964223b733a353a224230303031223b733a343a226e616d65223b733a31313a224b656361702042616e676f223b733a353a227072696365223b643a313030303b733a333a22717479223b643a31323b733a353a22726f776964223b733a33323a226337663166363030383163623432333237643330383138643634313839343531223b733a383a22737562746f74616c223b643a31323030303b7d7d),
('d6cf948a895196d145ed907f41276477', '::1', 1606473614, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437333631343b),
('4c3ef4404e72d10575c985f6901614d6', '::1', 1606473749, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437333734393b),
('3c2c47b9b3c2186e6a3f0881895d910b', '::1', 1606473751, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437333735313b),
('777005604d35011a07b4444f4ad2720d', '::1', 1606473755, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437333735353b757365726e616d657c733a343a2272756479223b6c6f676765645f696e7c623a313b),
('d7f2025e38acae63c47e794890580658', '::1', 1606473755, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437333735353b),
('0fd1238b5963cdf96c85d63fd970a53c', '::1', 1606473755, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437333735353b),
('14bde6f97d69e1b0e9dece89e52bc18a', '::1', 1606473769, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437333736393b757365726e616d657c733a343a2272756479223b6c6f676765645f696e7c623a313b),
('e7fa32dcb41c7ce4f55695c924cd6cca', '::1', 1606473769, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437333736393b),
('24c13b1bcffbd097f3b5567990d33bd0', '::1', 1606473779, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437333737393b),
('aeac2460190afc7b59d5779af88f0ef0', '::1', 1606473784, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437333738343b),
('e534b9fcab38651f123a1a6e3c01c56f', '::1', 1606473814, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437333831343b),
('87e1ae0335df969f431314e63639fb5e', '::1', 1606473814, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437333831343b),
('8e8a2ee384e1b86d01f2c4e45352fc06', '::1', 1606473817, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437333831373b),
('f9a126a7e2afd851f3093590ae95f74b', '::1', 1606473821, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437333832313b),
('ad30d59d1943dd2e707ed98a287ecb94', '::1', 1606473821, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437333832313b),
('6503a32622e1167bc992a00bfae36364', '::1', 1606473841, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437333834313b),
('2ed89408d59c18f577fa288276d2a049', '::1', 1606473844, ''),
('0659d0abdf0b094ced134ebc5aa36359', '::1', 1606473848, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437333834383b),
('27c0cf716a09b23cf640b980263d2364', '::1', 1606473849, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437333834393b),
('48c42c7ef9edfd4b454d17cbe452f1ef', '::1', 1606473853, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437333835333b),
('e61fd4e9658aace8c6f75a05e6842110', '::1', 1606473871, 0x636172745f636f6e74656e74737c613a333a7b733a31303a22636172745f746f74616c223b643a323030303b733a31313a22746f74616c5f6974656d73223b643a323b733a33323a226337663166363030383163623432333237643330383138643634313839343531223b613a363a7b733a323a226964223b733a353a224230303031223b733a343a226e616d65223b733a31313a224b656361702042616e676f223b733a353a227072696365223b643a313030303b733a333a22717479223b643a323b733a353a22726f776964223b733a33323a226337663166363030383163623432333237643330383138643634313839343531223b733a383a22737562746f74616c223b643a323030303b7d7d),
('f68c7835b5dc9829bc30f2de75010637', '::1', 1606473871, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437333837313b),
('c980bd255351b0339b1e23750310c4c0', '::1', 1606473878, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437333837383b),
('5472f429688ddcecbd31b399e3b71e42', '::1', 1606474009, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437343030393b),
('cef5a88b71a69d25907b05f81b7b1e62', '::1', 1606474014, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437343031343b),
('1c4a0ad266d85ed6739c4b92bdbe0dae', '::1', 1606474020, 0x636172745f636f6e74656e74737c613a333a7b733a31303a22636172745f746f74616c223b643a323030303b733a31313a22746f74616c5f6974656d73223b643a323b733a33323a226337663166363030383163623432333237643330383138643634313839343531223b613a363a7b733a323a226964223b733a353a224230303031223b733a343a226e616d65223b733a31313a224b656361702042616e676f223b733a353a227072696365223b643a313030303b733a333a22717479223b643a323b733a353a22726f776964223b733a33323a226337663166363030383163623432333237643330383138643634313839343531223b733a383a22737562746f74616c223b643a323030303b7d7d),
('5194cde1c011b865d3cdf077137473fa', '::1', 1606474091, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437343039313b),
('dfd89dc8298c152d99253e41740c11b0', '::1', 1606474097, 0x636172745f636f6e74656e74737c613a333a7b733a31303a22636172745f746f74616c223b643a323030303b733a31313a22746f74616c5f6974656d73223b643a323b733a33323a226337663166363030383163623432333237643330383138643634313839343531223b613a363a7b733a323a226964223b733a353a224230303031223b733a343a226e616d65223b733a31313a224b656361702042616e676f223b733a353a227072696365223b643a313030303b733a333a22717479223b643a323b733a353a22726f776964223b733a33323a226337663166363030383163623432333237643330383138643634313839343531223b733a383a22737562746f74616c223b643a323030303b7d7d),
('3b26aa8f1cd36865d5a78debb9be0e9d', '::1', 1606474236, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437343233363b),
('9dc8dbb4bca6afe1bbade8616562ae83', '::1', 1606474241, 0x636172745f636f6e74656e74737c613a333a7b733a31303a22636172745f746f74616c223b643a323030303b733a31313a22746f74616c5f6974656d73223b643a323b733a33323a223239623165646663646165336164316232663138393863633239623038393632223b613a363a7b733a323a226964223b733a353a224230303032223b733a343a226e616d65223b733a393a224b6170616c20417069223b733a353a227072696365223b643a313030303b733a333a22717479223b643a323b733a353a22726f776964223b733a33323a223239623165646663646165336164316232663138393863633239623038393632223b733a383a22737562746f74616c223b643a323030303b7d7d),
('bfc588321673356e2112b876ad67abb8', '::1', 1606474326, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437343332363b),
('40b92f92595e4a766a06b58c1e97a8ed', '::1', 1606474327, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437343332373b),
('2f1b76e45eabbf35f4d4df2143203fe1', '::1', 1606474357, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437343335373b),
('4d510685e13e6ee8efd2e694a8b56188', '::1', 1606474361, 0x636172745f636f6e74656e74737c613a333a7b733a31303a22636172745f746f74616c223b643a333030303b733a31313a22746f74616c5f6974656d73223b643a333b733a33323a226337663166363030383163623432333237643330383138643634313839343531223b613a363a7b733a323a226964223b733a353a224230303031223b733a343a226e616d65223b733a31313a224b656361702042616e676f223b733a353a227072696365223b643a313030303b733a333a22717479223b643a333b733a353a22726f776964223b733a33323a226337663166363030383163623432333237643330383138643634313839343531223b733a383a22737562746f74616c223b643a333030303b7d7d),
('c2da23a65f8d7c190f910c9dd89236ef', '::1', 1606474655, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437343635353b),
('9aee14dec91833594cee98e2c5a24805', '::1', 1606474655, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437343635353b),
('41d878c6ce71020b6514f48ffbdc7884', '::1', 1606474659, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437343635393b),
('94f1ea2114b862104bd0afc492c919d8', '::1', 1606474740, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437343734303b),
('1c55a0de0e70fa51f4b8a3a5eb7407a7', '::1', 1606474744, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437343734343b757365726e616d657c733a343a2272756479223b6c6f676765645f696e7c623a313b),
('b271e167eba713ac58546f627cfdb610', '::1', 1606474750, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437343735303b),
('6935aa267011fcc576288d65bbba8c5c', '::1', 1606474750, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437343735303b),
('88532f62acce20fe5643f304e3361ea7', '::1', 1606474762, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437343736323b),
('12c292f4b46f4393223b9f6ebf35ebdd', '::1', 1606474767, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437343736373b),
('5e2a4e6681017aeb4978949f5d502019', '::1', 1606474767, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437343736373b),
('a397d633a97fd66cf2bae94b872bb666', '::1', 1606474801, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437343830313b),
('266834c9a4d2ee25e3115c39516e42f8', '::1', 1606474804, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437343830343b757365726e616d657c733a343a2272756479223b6c6f676765645f696e7c623a313b),
('c5cfe98abd880dbbd359da742f17e0f5', '::1', 1606474805, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437343830353b),
('b0b07a73693d074e231b7aebe4976a05', '::1', 1606474811, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437343831313b),
('b1b6d2a81ed991ad59ef7d384be4f8f1', '::1', 1606474813, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437343831333b),
('aa23a3a88db88c3798616eab68389d92', '::1', 1606474814, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437343831343b),
('9bae4a9108df0298ca6d29a20995cbad', '::1', 1606474852, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437343835323b),
('0fb1eaf0b72cb3984a03150fd4040b8e', '::1', 1606474852, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437343835323b),
('a78869b6ef698f182e61a95e88e19132', '::1', 1606474870, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437343837303b),
('610c3de9ee39f8d3cfdf11b30a33afa4', '::1', 1606474874, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437343837343b757365726e616d657c733a343a2272756479223b6c6f676765645f696e7c623a313b),
('f91d62d1846d78a612eef2baa3b09d61', '::1', 1606474874, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437343837343b),
('b191259b7055b5ce77b6c6c19b8c8a55', '::1', 1606474874, 0x5f5f63695f6c6173745f726567656e65726174657c693a313630363437343837343b);

-- --------------------------------------------------------

--
-- Table structure for table `pembelian`
--

CREATE TABLE `pembelian` (
  `id_beli` varchar(10) NOT NULL,
  `id_barang` varchar(10) DEFAULT NULL,
  `jumlah` int(3) DEFAULT NULL,
  `total` int(10) DEFAULT NULL,
  `tanggal` datetime DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `pembelian`
--

INSERT INTO `pembelian` (`id_beli`, `id_barang`, `jumlah`, `total`, `tanggal`) VALUES
('129900', 'B0002', 12, 90000, '2018-10-23 10:01:11'),
('30000', 'B0003', 3, 3000, '2018-10-23 09:59:06'),
('89000', 'B0003', 20, 300000, '2018-11-13 00:00:00'),
('90000', 'B0003', 10, 10000, '2018-10-23 00:00:00');

--
-- Triggers `pembelian`
--
DELIMITER $$
CREATE TRIGGER `kulakan` AFTER INSERT ON `pembelian` FOR EACH ROW UPDATE barang SET jumlah=jumlah+NEW.jumlah
WHERE id_barang=NEW.id_barang
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `penjualan`
--

CREATE TABLE `penjualan` (
  `id` int(10) NOT NULL,
  `id_transaksi` varchar(30) DEFAULT NULL,
  `id_barang` varchar(10) DEFAULT NULL,
  `jumlah` int(3) DEFAULT NULL,
  `total` int(10) DEFAULT NULL,
  `tanggal` datetime DEFAULT current_timestamp()
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `penjualan`
--

INSERT INTO `penjualan` (`id`, `id_transaksi`, `id_barang`, `jumlah`, `total`, `tanggal`) VALUES
(1, '1000001', 'B0002', 3, 4000, '2018-10-23 15:39:14'),
(2, '1298000', 'B0001', 3, 40000, '2018-10-23 06:16:19'),
(3, '23891281', 'B0005', 10, 90000, '2018-10-23 00:00:00'),
(4, 'Shop-20181106041300', 'B0001', 7, 7000, '2018-11-06 00:00:00'),
(5, 'Shop-20181106041300', 'B0006', 4, 180000, '2018-11-06 00:00:00'),
(6, 'Shop-20181106041300', 'B0002', 3, 3000, '2018-11-06 00:00:00'),
(7, 'Shop-20181106041406', 'B0001', 3, 3000, '2018-11-06 00:00:00'),
(8, 'Shop-20181106041755', 'B0001', 3, 3000, '2018-11-06 00:00:00'),
(9, 'Shop-20181106041911', 'B0001', 4, 4000, '2018-11-06 00:00:00'),
(10, 'Shop-20181106041947', 'B0006', 4, 180000, '2018-11-06 00:00:00'),
(11, 'Shop-20181106042051', 'B0006', 4, 180000, '2018-11-06 00:00:00'),
(12, 'Shop-20181106042151', 'B0001', 3, 3000, '2018-11-06 00:00:00'),
(13, 'Shop-20181106042151', 'B0004', 4, 8000, '2018-11-06 00:00:00'),
(14, 'Shop-20181106042747', 'B0001', 3, 3000, '2018-11-06 00:00:00'),
(15, 'Shop-20181106042747', 'B0004', 4, 8000, '2018-11-06 00:00:00'),
(16, 'Shop-20181106045608', '8886008101', 3, 9000, '2018-11-06 00:00:00'),
(17, 'Shop-20181106045628', 'B0001', 3, 3000, '2018-11-06 00:00:00'),
(18, 'Shop-20181106050907', '8886008101', 2, 6000, '2018-11-06 00:00:00'),
(19, 'Shop-20181106061124', 'B0001', 3, 3000, '2018-11-06 00:00:00'),
(20, 'Shop-20191007103425', 'B0001', 2, 2000, '2019-10-07 10:34:25');

--
-- Triggers `penjualan`
--
DELIMITER $$
CREATE TRIGGER `kurangi_stok` AFTER INSERT ON `penjualan` FOR EACH ROW UPDATE 
barang SET jumlah=jumlah-NEW.jumlah
WHERE id_barang=NEW.id_barang
$$
DELIMITER ;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `admin`
--
ALTER TABLE `admin`
  ADD PRIMARY KEY (`id_admin`);

--
-- Indexes for table `barang`
--
ALTER TABLE `barang`
  ADD PRIMARY KEY (`id_barang`);

--
-- Indexes for table `ci_sessions`
--
ALTER TABLE `ci_sessions`
  ADD KEY `ci_sessions_timestamp` (`timestamp`);

--
-- Indexes for table `pembelian`
--
ALTER TABLE `pembelian`
  ADD PRIMARY KEY (`id_beli`);

--
-- Indexes for table `penjualan`
--
ALTER TABLE `penjualan`
  ADD PRIMARY KEY (`id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `admin`
--
ALTER TABLE `admin`
  MODIFY `id_admin` int(3) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

--
-- AUTO_INCREMENT for table `penjualan`
--
ALTER TABLE `penjualan`
  MODIFY `id` int(10) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=21;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
